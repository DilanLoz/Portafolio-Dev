<header
  id="main-header"
  class="fixed top-0 left-1/2 transform -translate-x-1/2 w-full py-3 px-4 my-4 bg-transparent z-50 transition-all duration-500 xl:w-[600px] md:w-[700px] sm:w-[500px]"
>
  <div
    class="flex justify-center items-center w-full max-w-[100%] xl:w-[700px] mx-auto"
  >
    <!-- Navegación -->
    <nav class="flex flex-row justify-between gap-x-2 md:gap-x-4">
      <a
        id="proyectos-link"
        href="#proyectos"
        class="font-semibold text-sm sm:text-base md:text-lg text-white hover:bg-green-500/20 hover:text-green-500 hover:shadow-green-500 hover:backdrop-blur-md transition-colors duration-500 hover:rounded-full px-2 py-1"
        >Proyectos</a
      >
      <span class="py-1">-</span>
      <a
        id="experiencia-link"
        href="#experiencia"
        class="font-semibold text-sm sm:text-base md:text-lg text-white hover:bg-green-500/20 hover:text-green-500 hover:shadow-green-500 hover:backdrop-blur-md transition-colors duration-500 rounded-full hover:rounded-full px-2 py-1"
        >Experiencia</a
      >
      <span class="py-1">-</span>
      <a
        id="tecnologias-link"
        href="#tecnologias"
        class="font-semibold text-sm sm:text-base md:text-lg text-white hover:bg-green-500/20 hover:text-green-500 hover:shadow-green-500 hover:backdrop-blur-md transition-colors duration-500 hover:rounded-full px-2 py-1"
        >Tecnologías</a
      >
      <span class="py-1">-</span>
      <a
        id="aprendizaje-link"
        href="#aprendizaje"
        class="font-semibold text-sm sm:text-base md:text-lg text-white hover:bg-green-500/20 hover:text-green-500 hover:shadow-green-500 hover:backdrop-blur-md transition-colors duration-500 hover:rounded-full px-2 py-1"
        >Aprendizaje</a
      >
    </nav>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.getElementById("main-header");
    const navLinks = document.querySelectorAll("#main-header a");

    // Cambiar estilos según el scroll
    window.addEventListener("scroll", () => {
      if (window.scrollY > 0) {
        // Al bajar: fondo blanco con blur y texto negro
        header.classList.add(
          "backdrop-blur-lg",
          "bg-black/30",
          "rounded-full",
          "shadow-lg",
          "border-green-500"
        );
        navLinks.forEach((link) => {
          link.classList.add("text-white");
          link.classList.remove("text-white");
        });
      } else {
        // Arriba del todo: fondo transparente y texto blanco
        header.classList.remove(
          "backdrop-blur-lg",
          "bg-black/30",
          "rounded-full",
          "shadow-lg",
          "border-green-500"
        );
        navLinks.forEach((link) => {
          link.classList.remove("text-white");
          link.classList.add("text-white");
        });
      }
    });

    // Activar enlace según la sección visible
    const sections = document.querySelectorAll("section[id]");
    const observerOptions = {
      rootMargin: "0px",
      threshold: 0.5,
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        const link = document.querySelector(`[href="#${entry.target.id}"]`);
        if (link) {
          if (entry.isIntersecting) {
            link.classList.add("text-green-500", "font-extrabold", "bg-green-500/20", "shadow-green-500", "backdrop-blur-md", "transition-colors", "duration-500", "rounded-full");
          } else {
            link.classList.remove("text-green-500", "font-extrabold", "bg-green-500/20", "shadow-green-500", "backdrop-blur-md", "transition-colors", "duration-500", "rounded-full");
          }
        }
      });
    }, observerOptions);

    sections.forEach((section) => observer.observe(section));
  });
</script>
