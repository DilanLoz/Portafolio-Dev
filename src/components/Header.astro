<header
  id="main-header"
  class="fixed top-0 left-1/2 transform -translate-x-1/2 w-auto py-3 my-4 bg-transparent z-50 transition-all duration-300"
>
  <div class="flex justify-center items-center w-full xl:w-[670px] mx-auto">
    <nav class="flex flex-row gap-x-10">
      <a id="experiencia-link" href="#experiencia" class="text-lg text-bold font-bold hover:text-blue-600">Experiencia</a>
      <a id="proyectos-link" href="#proyectos" class="text-lg text-bold font-bold hover:text-blue-600">Proyectos</a>
      <a id="sobremi-link" href="#sobremi" class="text-lg text-bold font-bold hover:text-blue-600">Sobre mí</a>
      <a href="mailto:dilanloz@gmail.com" class="text-lg text-bold font-bold hover:text-blue-600">Contacto</a>
    </nav>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.getElementById("main-header");

    // Detectar el scroll para agregar y quitar las clases de estilo
    window.addEventListener("scroll", () => {
      if (window.scrollY > 50) {
        header.classList.add(
          "backdrop-blur-md", // Agregar desenfoque
          "bg-yellow-100", // Fondo amarillo con opacidad
          "rounded-md", // Borde redondeado pequeño
          "shadow-sm" // Sombra pequeña
        );
      } else {
        header.classList.remove(
          "backdrop-blur-md",
          "bg-yellow-100",
          "rounded-md",
          "shadow-sm"
        );
      }
    });

    // Detectar cuando la sección esté visible en el viewport
    const sections = document.querySelectorAll('a[href^="#"]'); // Seleccionamos los enlaces de las secciones
    const options = {
      rootMargin: "0px",
      threshold: 0.5 // 50% de la sección visible
    };

    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        const link = document.querySelector(`[href="#${entry.target.id}"]`);
        if (entry.isIntersecting) {
          link.classList.add("text-blue-600", "font-bold"); // Activar hover con la clase
        } else {
          link.classList.remove("text-blue-600", "font-bold");
        }
      });
    }, options);

    sections.forEach(section => {
      observer.observe(document.querySelector(section.getAttribute("href")));
    });
  });
</script>
