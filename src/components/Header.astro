<header
  id="main-header"
  class="fixed top-0 left-1/2 transform -translate-x-1/2 w-full py-3 px-4 my-4 bg-transparent z-50 transition-all duration-500 xl:w-[600px] md:w-[700px] sm:w-[500px]"
>
  <div
    class="flex justify-center items-center w-full max-w-[100%] xl:w-[700px] mx-auto"
  >
    <!-- Navegación -->
    <nav class="flex flex-row justify-between gap-x-2 md:gap-x-4">
      <a
        id="proyectos-link"
        href="/#proyectos"
        class="nav-link
  font-semibold
  text-xs sm:text-sm md:text-base lg:text-lg
  text-white
  inline-block
  px-3 py-1
  rounded-full
  transition-all
  duration-500
  relative
  hover:outline"
        >Proyectos</a
      >
      <a
        id="experiencia-link"
        href="/#experiencia"
        class="nav-link
  font-semibold
  text-xs sm:text-sm md:text-base lg:text-lg
  text-white
  inline-block
  px-3 py-1
  rounded-full
  transition-all
  duration-500
  relative
  hover:outline"
        >Experiencia</a
      >
      <a
        id="tecnologias-link"
        href="/#tecnologias"
        class="nav-link
  font-semibold
  text-xs sm:text-sm md:text-base lg:text-lg
  text-white
  inline-block
  px-3 py-1
  rounded-full
  transition-all
  duration-500
  relative
  hover:outline"
        >Tecnologías</a
      >
      <a
        id="aprendizaje-link"
        href="/#aprendizaje"
        class="nav-link
  font-semibold
  text-xs sm:text-sm md:text-base lg:text-lg
  text-white
  inline-block
  px-3 py-1
  rounded-full
  transition-all
  duration-500
  relative
  hover:outline"
        >Aprendizaje</a
      >
    </nav>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.getElementById("main-header");
    const navLinks = document.querySelectorAll("#main-header a");

    // Cambiar estilos según el scroll
    window.addEventListener("scroll", () => {
      if (window.scrollY > 0) {
        // Al bajar: fondo blanco con blur y texto negro
        header.classList.add(
          "backdrop-blur-lg",
          "bg-black/30",
          "rounded-full",
          "shadow-lg",
          "border-neutral-500"
        );
        navLinks.forEach((link) => {
          link.classList.add("text-white");
          link.classList.remove("text-white");
        });
      } else {
        // Arriba del todo: fondo transparente y texto blanco
        header.classList.remove(
          "backdrop-blur-lg",
          "bg-black/30",
          "rounded-full",
          "shadow-lg",
          "border-neutral-500"
        );
        navLinks.forEach((link) => {
          link.classList.remove("text-white");
          link.classList.add("text-white");
        });
      }
    });

    // Activar enlace según la sección visible
    const sections = document.querySelectorAll("section[id]");
    const observerOptions = {
      root: null,
      rootMargin: "-120px 0px -60% 0px",
      threshold: 0,
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        const link = document.querySelector(`[href="#${entry.target.id}"]`);
        if (link) {
          if (entry.isIntersecting) {
            link.classList.add(
              "font-extrabold",
              "bg-gradient-to-r",
              "from-emerald-400",
              "via-cyan-400",
              "to-blue-500",
              "bg-clip-text",
              "text-transparent",
              "drop-shadow-[0_0_12px_rgba(52,211,153,0.7)]",
              "animate-gradient-x",
              "scale-110",
              "transition-all",
              "duration-500"
            );
          } else {
            link.classList.remove(
              "font-extrabold",
              "bg-gradient-to-r",
              "from-emerald-400",
              "via-cyan-400",
              "to-blue-500",
              "bg-clip-text",
              "text-transparent",
              "drop-shadow-[0_0_12px_rgba(52,211,153,0.7)]",
              "animate-gradient-x",
              "scale-110",
              "transition-all",
              "duration-500"
            );
          }
        }
      });
    }, observerOptions);

    sections.forEach((section) => observer.observe(section));
  });
</script>
<style>
  @keyframes gradient-x {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .animate-gradient-x {
    background-size: 200% 200%;
    animation: gradient-x 4s ease infinite;
  }
</style>
