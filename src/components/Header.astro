<header
  id="main-header"
  class="fixed top-0 left-1/2 transform -translate-x-1/2 w-full py-3 px-4 my-4 bg-transparent z-50 transition-all duration-300 xl:w-[600px] md:w-[700px] sm:w-[300px]"
>
  <div class="flex justify-center items-center w-full max-w-[100%] xl:w-[600px] mx-auto">
    <!-- Navegación -->
    <nav class="flex flex-row justify-between gap-x-2 md:gap-x-4">
      <a
        id="proyectos-link"
        href="#proyectos"
        class="font-bold text-sm sm:text-base md:text-lg text-white hover:text-yellow-300 transition-colors duration-300"
      >Proyectos</a>
      -
      <a
        id="experiencia-link"
        href="#experiencia"
        class="font-bold text-sm sm:text-base md:text-lg text-white hover:text-yellow-300 transition-colors duration-300"
      >Experiencia</a>
      -
      <a
        id="tecnologias-link"
        href="#tecnologias"
        class="font-bold text-sm sm:text-base md:text-lg text-white hover:text-yellow-300 transition-colors duration-300"
      >Tecnologías</a>
      -
      <a
        id="aprendizaje-link"
        href="#aprendizaje"
        class="font-bold text-sm sm:text-base md:text-lg text-white hover:text-yellow-300 transition-colors duration-300"
      >Aprendizaje</a>
    </nav>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.getElementById("main-header");
    const navLinks = document.querySelectorAll("#main-header a");

    // Cambiar estilos según el scroll
    window.addEventListener("scroll", () => {
      if (window.scrollY > 0) {
        // Al bajar: fondo blanco con blur y texto negro
        header.classList.add("backdrop-blur-lg", "bg-black/30", "rounded-md", "shadow-lg");
        navLinks.forEach((link) => {
          link.classList.add("text-white");
          link.classList.remove("text-white");
        });
      } else {
        // Arriba del todo: fondo transparente y texto blanco
        header.classList.remove("backdrop-blur-lg", "bg-black/30", "rounded-md", "shadow-lg");
        navLinks.forEach((link) => {
          link.classList.remove("text-white");
          link.classList.add("text-white");
        });
      }
    });

    // Activar enlace según la sección visible
    const sections = document.querySelectorAll("section[id]");
    const observerOptions = {
      rootMargin: "0px",
      threshold: 0.5,
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        const link = document.querySelector(`[href="#${entry.target.id}"]`);
        if (link) {
          if (entry.isIntersecting) {
            link.classList.add("text-yellow-300", "font-bold");
          } else {
            link.classList.remove("text-yellow-300", "font-bold");
          }
        }
      });
    }, observerOptions);

    sections.forEach((section) => observer.observe(section));
  });
</script>
