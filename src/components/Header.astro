<header
  id="main-header"
  class="fixed top-0 left-1/2 transform -translate-x-1/2 w-full py-3 px-4 my-4 bg-transparent z-50 transition-all duration-300  xl:w-[470px]  md:w-[500px]  sm:w-[400px]"
>
  <div class="flex justify-center items-center w-full max-w-[95%] xl:w-[470px] mx-auto">
    <!-- Navegación -->
    <nav class="flex flex-row justify-between gap-x-2 md:gap-x-4">
      <a
        id="experiencia-link"
        href="#experiencia"
        class="font-bold text-sm sm:text-base md:text-lg hover:text-blue-600 transition-colors"
      >Experiencia</a>
      <a
        id="proyectos-link"
        href="#proyectos"
        class="font-bold text-sm sm:text-base md:text-lg hover:text-blue-600 transition-colors"
      >Proyectos</a>
      <a
        id="sobremi-link"
        href="#sobremi"
        class="font-bold text-sm sm:text-base md:text-lg hover:text-blue-600 transition-colors"
      >Sobre mí</a>
      <a
        href="mailto:dilanloz@gmail.com"
        class="font-bold text-sm sm:text-base md:text-lg hover:text-blue-600 transition-colors"
      >Contacto</a>
    </nav>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const header = document.getElementById("main-header");
    const navLinks = document.querySelectorAll("#main-header a");

    // Detectar el scroll para agregar clases
    window.addEventListener("scroll", () => {
      if (window.scrollY > 50) {
        header.classList.add(
          "backdrop-blur-lg",
          "bg-yellow-100/70",
          "rounded-md",
          "shadow-md"
        );

        // Cambiar color del texto
        navLinks.forEach((link) => {
          link.classList.add("text-black");
          link.classList.remove("hover:text-blue-600");
        });
      } else {
        header.classList.remove(
          "backdrop-blur-lg",
          "bg-yellow-100/70",
          "rounded-md",
          "shadow-md"
        );

        // Restaurar el color del texto
        navLinks.forEach((link) => {
          link.classList.remove("text-black");
          link.classList.add("hover:text-blue-600");
        });
      }
    });

    // Activar el enlace al pasar por la sección correspondiente
    const sections = document.querySelectorAll("section[id]");
    const observerOptions = {
      rootMargin: "0px",
      threshold: 0.5, // 50% de la sección visible
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        const link = document.querySelector(`[href="#${entry.target.id}"]`);
        if (entry.isIntersecting) {
          // Activar el enlace correspondiente
          link.classList.add("text-blue-600", "font-bold");
        } else {
          // Restaurar el estilo cuando no está visible
          link.classList.remove("text-blue-600", "font-bold");
        }
      });
    }, observerOptions);

    sections.forEach((section) => {
      observer.observe(section);
    });
  });
</script>
